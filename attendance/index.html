<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <title>Sreesubh</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"
    />
    <style>
      .title {
        width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
      }
    </style>
  </head>

  <body>
    <header class="d-flex align-items-center justify-content-between">
      <nav class="navbar navbar-light bg-light d-flex flex-row">
        <div class="container-fluid">
          <div class="title">
            <div
              class="btn"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasExample"
              aria-controls="offcanvasExample"
            >
              <i class="fas fa-bars p-2"></i>
            </div>
            <a class="navbar-brand px-3 mx-4" href="/">Sreesubh</a>
          </div>
        </div>
      </nav>
      <div class="right-cont mx-5">
        <div
          class="btn btn-outline-warning"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasBottom"
          aria-controls="offcanvasBottom"
        >
          <i class="fa fa-sliders" aria-hidden="true"></i>
          Attendance
        </div>
      </div>
      <div
        class="offcanvas offcanvas-bottom h-75"
        tabindex="-1"
        id="offcanvasBottom"
        aria-labelledby="offcanvasBottomLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasBottomLabel">
            <i class="fa-solid fa-gear"></i> Attendance Settings
          </h5>
          <button
            type="button"
            class="btn-close text-reset"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body small">
          <div class="d-flex align-items-start">
            <div
              class="nav flex-column nav-pills me-3"
              id="v-pills-tab"
              role="tablist"
              aria-orientation="vertical"
            >
              <button
                class="nav-link active"
                id="v-pills-home-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-home"
                type="button"
                role="tab"
                aria-controls="v-pills-home"
                aria-selected="true"
              >
                Make Login
              </button>
              <button
                class="nav-link"
                id="v-pills-profile-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-profile"
                type="button"
                role="tab"
                aria-controls="v-pills-profile"
                aria-selected="false"
              >
                Make Login
              </button>
              <button
                class="nav-link"
                id="v-pills-messages-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-messages"
                type="button"
                role="tab"
                aria-controls="v-pills-messages"
                aria-selected="false"
              >
                Report generator
              </button>
              <button
                class="nav-link"
                id="v-pills-settings-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-settings"
                type="button"
                role="tab"
                aria-controls="v-pills-settings"
                aria-selected="false"
              >
                Settings
              </button>
            </div>
            <div class="tab-content" id="v-pills-tabContent">
              <div
                class="tab-pane fade show active"
                id="v-pills-home"
                role="tabpanel"
                aria-labelledby="v-pills-home-tab"
              ></div>
              <div
                class="tab-pane fade"
                id="v-pills-profile"
                role="tabpanel"
                aria-labelledby="v-pills-profile-tab"
              ></div>
              <div
                class="tab-pane fade"
                id="v-pills-messages"
                role="tabpanel"
                aria-labelledby="v-pills-messages-tab"
              >
                ...
              </div>
              <div
                class="tab-pane fade"
                id="v-pills-settings"
                role="tabpanel"
                aria-labelledby="v-pills-settings-tab"
              >
                ...
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasExample"
      aria-labelledby="offcanvasExampleLabel"
    >
      <div class="offcanvas-header">
        Sreesubh
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body small">
        <div class="list-group">
          <a
            href="/"
            class="list-group-item list-group-item-action"
            aria-current="true"
          >
            <i class="fas fa-home"></i> Home
          </a>
          <a
            href="/attendance/"
            class="list-group-item list-group-item-action active"
            ><i class="fa fa-user-circle" aria-hidden="true"></i> Attendance</a
          >
          <a href="/Holiday/" class="list-group-item list-group-item-action"
            ><i class="fas fa-cloud-sun"></i> Holiday</a
          >
          <a href="#" class="list-group-item list-group-item-action"
            ><i class="fa fa-user-circle" aria-hidden="true"></i> Leave
            request</a
          >
          <a
            href="#"
            class="list-group-item list-group-item-action"
            tabindex="-1"
            aria-disabled="true"
            ><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a
          >
        </div>
      </div>
    </div>
    <main class="d-flex flex-column">
      <div
        class="top-head d-flex flex-row justify-content-around align-items-center mt-2"
      >
        <select
          class="form-select px-3 mx-5 w-50"
          id="employees"
          aria-label="Default select example"
        >
          <option selected>Open this select menu</option>
        </select>

        <input
          type="text"
          class="form-control w-25 text-align-center"
          name="datefilter"
          placeholder="Select Date..."
          value=""
        />
        <input type="time" name="" class="form-control w-25 mx-2" id="" />
        <button
          class="btn d-flex align-items-center btn-primary mx-5"
          onclick="getData()"
        >
          <i class="fa fa-search" aria-hidden="true"></i>
          <span class="px-2 mx-2">Search</span>
        </button>
      </div>
      <table
        class="table table-dark table-hover mt-2 mx-auto"
        style="width: 95%"
      >
        <thead>
          <tr>
            <th scope="col">Date</th>
            <th scope="col">Login Time</th>
            <th scope="col">Login Address</th>
            <th scope="col">Logout Time</th>
            <th scope="col">Logout Address</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </main>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
      $(function () {
        $('input[name="datefilter"]').daterangepicker({
          autoUpdateInput: false,
          locale: {
            cancelLabel: "Clear",
          },
        });

        $('input[name="datefilter"]').on(
          "apply.daterangepicker",
          function (ev, picker) {
            $(this).val(
              picker.startDate.format("YYYY-MM-DD") +
                " to " +
                picker.endDate.format("YYYY-MM-DD")
            );
          }
        );

        $('input[name="datefilter"]').on(
          "cancel.daterangepicker",
          function (ev, picker) {
            $(this).val("");
          }
        );
      });
      function getData() {
        var emp = document.getElementById("employees");

        $.ajax({
          url: "http://localhost:63739/api/Employee/getEmployee",
          type: "get",
          success: function (data) {
            var empstr = "<option selected>Open this select menu</option>";
            data.map((item, index) => {
              empstr += `<option value="${item.EmployeeId}">${item.EmployeeName}</option>`;
            });
            console.log(empstr);
            emp.innerHTML = empstr;
          },
        });
      }
    </script>
  </body>
</html>
